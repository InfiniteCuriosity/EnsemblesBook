<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Introduction and your first ensembles | Ensembles: From Beginner to Expert</title>
<meta name="author" content="Russ Conte">
<meta name="description" content="2.1 How a Chicago blizzard led to the very unlikely story of the best solutions to supervised data My journey to the most advanced AI in the world started with an actual blizzard in Chicago. It...">
<meta name="generator" content="bookdown 0.39 with bs4_book()">
<meta property="og:title" content="Chapter 2 Introduction and your first ensembles | Ensembles: From Beginner to Expert">
<meta property="og:type" content="book">
<meta property="og:description" content="2.1 How a Chicago blizzard led to the very unlikely story of the best solutions to supervised data My journey to the most advanced AI in the world started with an actual blizzard in Chicago. It...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Introduction and your first ensembles | Ensembles: From Beginner to Expert">
<meta name="twitter:description" content="2.1 How a Chicago blizzard led to the very unlikely story of the best solutions to supervised data My journey to the most advanced AI in the world started with an actual blizzard in Chicago. It...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Ensembles: From Beginner to Expert</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="active" href="introduction-and-your-first-ensembles.html"><span class="header-section-number">2</span> Introduction and your first ensembles</a></li>
<li><a class="" href="numerical-data-how-to-make-23-individual-models-and-basic-skills-with-functions.html"><span class="header-section-number">3</span> Numerical data: How to make 23 individual models, and basic skills with functions</a></li>
<li><a class="" href="building-weighted-ensembles-to-model-numerical-data.html"><span class="header-section-number">4</span> Building weighted ensembles to model numerical data</a></li>
<li><a class="" href="classification-data-how-to-make-14-individual-classification-models.html"><span class="header-section-number">5</span> Classification data: How to make 14 individual classification models</a></li>
<li><a class="" href="building-ensembles-of-classification-models.html"><span class="header-section-number">6</span> Building ensembles of classification models</a></li>
<li><a class="" href="individual-logistic-models.html"><span class="header-section-number">7</span> Individual logistic models</a></li>
<li><a class="" href="advice-to-lebron-james-and-everyone-who-does-talent-analytics-logistic-ensembles.html"><span class="header-section-number">8</span> Advice to Lebron James (and everyone who does talent analytics): Logistic ensembles</a></li>
<li><a class="" href="how-to-make-27-individual-forecasting-models.html"><span class="header-section-number">9</span> How to Make 27 Individual Forecasting Models</a></li>
<li><a class="" href="ensembles-of-26-forecasting-models.html"><span class="header-section-number">10</span> Ensembles of 26 Forecasting Models</a></li>
<li><a class="" href="predicting-on-totally-new-data-with-individual-models-and-ensembles.html"><span class="header-section-number">11</span> Predicting on totally new data with individual models and ensembles</a></li>
<li><a class="" href="how-to-communicate-your-results.html"><span class="header-section-number">12</span> How to communicate your results</a></li>
<li><a class="" href="final-comprhensive-project.html"><span class="header-section-number">13</span> Final Comprhensive Project</a></li>
<li><a class="" href="summary-and-charge-to-the-graduates-of-the-class.html"><span class="header-section-number">14</span> Summary and Charge to the Graduates of the Class!</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/InfinteCuriosity/EnsemblesBook">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="introduction-and-your-first-ensembles" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Introduction and your first ensembles<a class="anchor" aria-label="anchor" href="#introduction-and-your-first-ensembles"><i class="fas fa-link"></i></a>
</h1>
<div id="how-a-chicago-blizzard-led-to-the-very-unlikely-story-of-the-best-solutions-to-supervised-data" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> How a Chicago blizzard led to the very unlikely story of the best solutions to supervised data<a class="anchor" aria-label="anchor" href="#how-a-chicago-blizzard-led-to-the-very-unlikely-story-of-the-best-solutions-to-supervised-data"><i class="fas fa-link"></i></a>
</h2>
<p>My journey to the most advanced AI in the world started with an actual
blizzard in Chicago. It might seem like Chicago would never get a
blizzard, but we did in 2011, and it was incredibly intense, as this
video shows:</p>
<p><a href="https://www.youtube.com/watch?v=cPiFn52ztd8" class="uri">https://www.youtube.com/watch?v=cPiFn52ztd8</a></p>
<p>What does the <a href="https://en.wikipedia.org/wiki/2011_Groundhog_Day_blizzard">Chicago 2011
Snomageddon</a>
have to do with the creation of the most advanced AI? Everything. Here’s
the story.</p>
<p>At the time of the 2011 Blizzard I worked a Recruiter for <a href="https://en.wikipedia.org/wiki/Kelly_Services">Kelly
Services</a>, where I had
worked since 1996. I agreed to work out of the Kelly Services office in
Frankfort, Illinois at this time, though I worked out of nearly every
Kelly Services office at one time or another. The trip to Frankfort
involved a daily commute to the office, but I was able to make the best
use of the time on the road.</p>
<p>My manager at the time let me know several days in advance that there
was a very large amount of snow forecast, and that I might want to be
prepared. The most recent forecasts for large amounts of snow in the
Chicago area all amounted to nothing. They were perfectly normal days in
the Chicago area, so I predicted this storm would also be nothing, based
on the most recent results. This was a great example of a prior
prediction not transferring well to a current situation.</p>
<p>That morning I went to work as normal, and did not even look at the
weather forecast. Around 2:45 pm my manager came out of her office and
said “Russ, you need to come here and look at the weather radar!”. I
walked into her office, and saw a map of a winter storm that was
incredibly huge. She had the image zoomed out, so it was possible to see
several states. From what I could tell, the massive snow storm was
barreling down on Chicago, and was about 15 minutes away from our
location.</p>
<p>I told the candidate I was interviewing that I was leaving immediately,
and that he is not allowed to stay. He has to get home as fast as
possible for his own safety.</p>
<p>The storm started dropping snow on my trip north back home. The commute
took around 50% longer than normal due to the rapidly falling snow.</p>
<p>As I later learned, the storm was forecast to start in the Chicago area
around 3:00 pm, finish up between 11:00 am - 1:00 pm two days later, and
leave 17 - 19 inches of snow.</p>
<p>How bad was it? Even City of Chicago snow plows were stopped by the
snow:</p>
<div class="float">
<img src="_book/images/Chicago_Snow_Plow_stuck_on_Lake_Shore_drive_Chicago_Feb_2_2011_storm.jpg" alt="Chicago snow plow stuck on Lake Shore Drive in the 2011 snow storm"><div class="figcaption">
<a href="https://en.wikipedia.org/wiki/2011_Groundhog_Day_blizzard#/media/File:Stuck_Salt_Truck_on_Lake_Shore_drive_Chicago_Feb_2_2011_storm.JPG">Chicago snow
plow</a>
stuck on Lake Shore Drive in the 2011 snow
storm</div>
</div>
<p>To see what the forecasts looked like, check out this news report from
the day:</p>
<p><a href="https://www.nbcchicago.com/news/local/blizzard-unleashes-winter-fury/2096753/" class="uri">https://www.nbcchicago.com/news/local/blizzard-unleashes-winter-fury/2096753/</a></p>
<p>It turns out all three predictions of the blizzard were accurate to a
level that almost seemed uncanny to me: Start time, accumulation, and
end time were all spot on. This is the first time I recall ever seeing a
prediction at this level of accuracy. I had no idea this type of
predictive accuracy was even possible. This level of accuracy in
predicting results totally blew me away. I had never seen anything with
this level of accuracy, and now I wanted to know how it was done.</p>
<p>I searched and searched for how the accuracy was so high for this
forecast.</p>
<p>The power of the method—whatever it was—was obvious to me. I realized
that if it could work for the weather, the solution method could work in
an incredibly broad range of situations. A few of many other areas
include business forecasts, production work, modeling prices, and much,
much more. But that this point I had no idea how the accurate prediction
was done.</p>
<p>Some months later a person wrote to <a href="https://en.wikipedia.org/wiki/Tom_Skilling">Tom
Skilling</a>, chief
meteorologist for WGN TV in Chicago. Tom posted an answer that opened up
the solution for me. Here is the relevant part of <a href="https://www.facebook.com/TomSkilling/posts/531146448370303">Tom Skilling’s
answer</a> to a
2011 storm how the forecast was so accurate:</p>
<blockquote>
<p>The Weather Service has developed an interesting “SNOWFALL ENSEMBLE
FORECAST PROBABILITY SYSTEM” which draws upon a wide range of snow
accumulation forecasts from a whole set of different computer models.
By “blending” these model projections, probability of snowfalls
falling within certain ranges becomes possible. Also, this “blending”
of multiple forecasts “smooths” the sometimes huge model disparities
in the amounts being predicted. The resulting probabilities therefore
represent a “best case” forecast.</p>
</blockquote>
<p>So that was the first step. Ensembles were the way they achieved such
extraordinary prediction accuracy.</p>
<p>My next goal was to figure out how ensembles were made. As I looked up
information, it became obvious that ensembles had been used for a while,
such as the winning entry in the Netflix Prize Competition:</p>
<div class="float">
<img src="_book/images/netflix_prize.jpg" alt="Netflix Prize Competition"><div class="figcaption">Netflix Prize Competition</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Netflix_Prize">Netflix Prize
Competition</a> was sponsored
by Netflix to create a method to accurately predict user ratings on
films. The minimum winning score needed to beat the Netflix method
(named Cinematch) by at least 10%. Several years of work went into
solving this problem, and the results even included several published
papers. The winning solution was an ensemble of methods that beat the
Cinematch results by 10.09%.</p>
<p>So it was now clear to me that ensembles were the path forward. However,
I had no idea how to make ensembles.</p>
<p>I went to graduate school to study data science and predictive
analytics. My degree was completed in 2017, from Northwestern
University. However, I still was not sure how ensembles of models were
built, nor could I find any clear methods to build them (except for
pre-made methods, such as random forests). While it is true there were
packages that could do some of the work, nothing I found did what I was
looking for: How to build ensembles of models in general. Despite
playing with the idea and looking online, I was not able to build the
ensembles I wanted to build.</p>
</div>
<div id="saturday-october-15-2022-at-458-pm.-the-exact-birth-of-the-ensembles-system" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Saturday, October 15, 2022 at 4:58 pm. The exact birth of the Ensembles system<a class="anchor" aria-label="anchor" href="#saturday-october-15-2022-at-458-pm.-the-exact-birth-of-the-ensembles-system"><i class="fas fa-link"></i></a>
</h2>
<p>Everything changed on Saturday, October 15, 2022 at 4:58 pm. I was
playing with various methods to make an ensemble, and got an ensemble
that worked for the very first time. While the results were extremely
modest by any standards, it was clear to me that the foundation was
there to build a general solution that can work in an extremely wide
range of areas. Here is my journal entry:</p>
<div class="float">
<img src="_book/images/Birth_of_ensembles.jpg" alt="Birth of the ensembles method (typo of W0w in the original)"><div class="figcaption">Birth of the ensembles method (typo of W0w in the
original)</div>
</div>
<p>You might be asking yourself how I know the day and time. That is a very
reasonable question. I’ve been keeping a journal since I was 19 years
old, and have thousands of entries. As soon as I realized how to
correctly build ensembles, I made this entry, which contains the key
elements to make an ensemble, and we will do these steps in just a
moment. Notice that the subject line in the journal matches the text
above.</p>
<p>One of the ways to improve your skills is to keep a journal, and we’ll
be looking at that in more depth in this chapter and future chapters.
The journal I use is <a href="https://danschimpf.com/">MacJournal</a>, though there
are a large number of other options available on the market.</p>
<div class="inline-figure"><img src="_book/images/Journal_birth_of_ensembles.png"></div>
<p>Birth of ensembles, Saturday, October 15, 2022 at 4:58 pm</p>
<div class="float">
<img src="_book/images/Keep_a_journal.jpg" alt="Keep a journal"><div class="figcaption">Keep a journal</div>
</div>
</div>
<div id="here-is-what-an-ensemble-of-models-looks-like-at-the-most-basic-level-using-the-boston-housing-data-set-as-an-example" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Here is what an ensemble of models looks like at the most basic level, using the Boston Housing data set as an example:<a class="anchor" aria-label="anchor" href="#here-is-what-an-ensemble-of-models-looks-like-at-the-most-basic-level-using-the-boston-housing-data-set-as-an-example"><i class="fas fa-link"></i></a>
</h2>
<div id="head-of-boston-housing-data-set" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Head of Boston Housing data set<a class="anchor" aria-label="anchor" href="#head-of-boston-housing-data-set"><i class="fas fa-link"></i></a>
</h3>
<div class="float">
<img src="_book/images/Boston_Housing_data_head.png" alt="Head of Boston Housing data set"><div class="figcaption">Head of Boston Housing data
set</div>
</div>
<p>We will start our first ensemble with a data set that only has numerical
values. Our first example will use the Boston Housing data set, from the
MASS package. While the Boston Housing data set is controversial (and we
will discuss some of the controversies in our example making
professional quality reports for the C-Suite), for now it works as a
very well known data set to begin our journey into ensembles.</p>
<p>Overview of the most basic steps to make an ensemble:</p>
<p>We will be using the Boston Housing data set, so let’s have a look at
some Boston images:</p>
<div class="float">
<img src="_book/images/Boston.png" alt="Boston"><div class="figcaption">Boston</div>
</div>
</div>
</div>
<div id="the-steps-to-build-your-first-ensemble-from-scratch" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> The steps to build your first ensemble from scratch<a class="anchor" aria-label="anchor" href="#the-steps-to-build-your-first-ensemble-from-scratch"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Load the packages we will need (MASS, tree)</p></li>
<li><p>Load the Boston Housing data set, and split it into train (60%) and
test (40%) sections.</p></li>
<li><p>Create a linear model by fitting the linear model on the training
data, and make predictions on the Boston Housing test data. Measure
the accuracy of the predictions against the actual values.</p></li>
<li><p>Create a model using trees by fitting the tree model on the training
data, and making predictions on the Boston Housing test data.
Measure the accuracy of the predictions against the actual values.</p></li>
<li><p>Make a new data frame. This will be our ensemble of model
predictions. One column will be the linear predictions, and one will
be the tree predictions.</p></li>
<li><p>Make a new column for the true values—these are the true values in
the Boston Housing test data set</p></li>
<li><p>Once we have the new ensemble data set, it’s simply another data
set. No different in many ways from any other data set (except how
it was made).</p></li>
<li><p>Break the ensemble data set into train (60%) and test (40%)
sections.</p></li>
<li><p>Fit a linear model to the ensemble training data. Make predictions
using the testing data, and measure the accuracy of the predictions
against the test data.</p></li>
<li><p>Summarize the results.</p></li>
</ul>
<p><strong>I suggest reading the over of the most basic steps to make an ensemble
a couple of times, to make sure you are very familiar with the steps.</strong></p>
</div>
<div id="building-the-first-actual-ensemble" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Building the first actual ensemble<a class="anchor" aria-label="anchor" href="#building-the-first-actual-ensemble"><i class="fas fa-link"></i></a>
</h2>
<p>Load the packages we will need (MASS, tree):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span> <span class="co"># for the Boston Housing data set</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span> <span class="co"># To make models using trees</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mfrasco/Metrics">Metrics</a></span><span class="op">)</span> <span class="co"># To calculate error rate (root mean squared error)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching core tidyverse packages ──── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; ✔ dplyr     1.1.4     ✔ readr     2.1.5</span></span>
<span><span class="co">#&gt; ✔ forcats   1.0.0     ✔ stringr   1.5.1</span></span>
<span><span class="co">#&gt; ✔ ggplot2   3.5.1     ✔ tibble    3.2.1</span></span>
<span><span class="co">#&gt; ✔ lubridate 1.9.3     ✔ tidyr     1.3.1</span></span>
<span><span class="co">#&gt; ✔ purrr     1.0.2     </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="co">#&gt; ✖ dplyr::select() masks MASS::select()</span></span>
<span><span class="co">#&gt; ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span></code></pre></div>
<p>Load the Boston Housing data set, and split it into train (60%) and test
(40%) sections.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/MASS/man/Boston.html">Boston</a></span></span>
<span><span class="va">train</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">400</span>, <span class="op">]</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">401</span><span class="op">:</span><span class="fl">505</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the train and test sets</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">train</span><span class="op">)</span></span>
<span><span class="co">#&gt;      crim zn indus chas   nox    rm  age    dis rad tax</span></span>
<span><span class="co">#&gt; 1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296</span></span>
<span><span class="co">#&gt; 2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242</span></span>
<span><span class="co">#&gt; 3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242</span></span>
<span><span class="co">#&gt; 4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222</span></span>
<span><span class="co">#&gt; 5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222</span></span>
<span><span class="co">#&gt; 6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222</span></span>
<span><span class="co">#&gt;   ptratio  black lstat medv</span></span>
<span><span class="co">#&gt; 1    15.3 396.90  4.98 24.0</span></span>
<span><span class="co">#&gt; 2    17.8 396.90  9.14 21.6</span></span>
<span><span class="co">#&gt; 3    17.8 392.83  4.03 34.7</span></span>
<span><span class="co">#&gt; 4    18.7 394.63  2.94 33.4</span></span>
<span><span class="co">#&gt; 5    18.7 396.90  5.33 36.2</span></span>
<span><span class="co">#&gt; 6    18.7 394.12  5.21 28.7</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span>
<span><span class="co">#&gt;         crim zn indus chas   nox    rm   age    dis rad tax</span></span>
<span><span class="co">#&gt; 401 25.04610  0  18.1    0 0.693 5.987 100.0 1.5888  24 666</span></span>
<span><span class="co">#&gt; 402 14.23620  0  18.1    0 0.693 6.343 100.0 1.5741  24 666</span></span>
<span><span class="co">#&gt; 403  9.59571  0  18.1    0 0.693 6.404 100.0 1.6390  24 666</span></span>
<span><span class="co">#&gt; 404 24.80170  0  18.1    0 0.693 5.349  96.0 1.7028  24 666</span></span>
<span><span class="co">#&gt; 405 41.52920  0  18.1    0 0.693 5.531  85.4 1.6074  24 666</span></span>
<span><span class="co">#&gt; 406 67.92080  0  18.1    0 0.693 5.683 100.0 1.4254  24 666</span></span>
<span><span class="co">#&gt;     ptratio  black lstat medv</span></span>
<span><span class="co">#&gt; 401    20.2 396.90 26.77  5.6</span></span>
<span><span class="co">#&gt; 402    20.2 396.90 20.32  7.2</span></span>
<span><span class="co">#&gt; 403    20.2 376.11 20.31 12.1</span></span>
<span><span class="co">#&gt; 404    20.2 396.90 19.77  8.3</span></span>
<span><span class="co">#&gt; 405    20.2 329.46 27.38  8.5</span></span>
<span><span class="co">#&gt; 406    20.2 384.97 22.98  5.0</span></span></code></pre></div>
<p>Create a linear model by fitting the linear model on the training data,
and make predictions on the Boston Housing test data. Measure the
accuracy of the predictions against the actual values.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Boston_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span> <span class="co"># Fit the model to the training data</span></span>
<span><span class="va">Boston_lm_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_lm</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the model predictions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span><span class="co">#&gt;       401       402       403       404       405       406 </span></span>
<span><span class="co">#&gt; 12.618507 19.785728 20.919370 13.014507  6.946392  5.123039</span></span></code></pre></div>
<p>Calculate the error for the model</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Boston_linear_RMSE</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span><span class="va">Boston_linear_RMSE</span></span>
<span><span class="co">#&gt; [1] 6.108005</span></span></code></pre></div>
<p>The error rate for the linear model is 6.108005. Let’s do the same using
the tree method.</p>
<p>Create a model using trees by fitting the tree model on the training
data, and making predictions on the Boston Housing test data. Measure
the accuracy of the predictions against the actual values.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Boston_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span> <span class="co"># Fit the model to the training data</span></span>
<span><span class="va">Boston_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_tree</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the predictions:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_tree_predictions</span><span class="op">)</span></span>
<span><span class="co">#&gt;      401      402      403      404      405      406 </span></span>
<span><span class="co">#&gt; 13.30769 13.30769 13.30769 13.30769 13.30769 13.30769</span></span></code></pre></div>
<p>Calculate the error rate for the tree model:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Boston_tree_RMSE</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_tree_predictions</span><span class="op">)</span></span>
<span><span class="va">Boston_tree_RMSE</span></span>
<span><span class="co">#&gt; [1] 5.478017</span></span></code></pre></div>
<p>The error rate for the tree model is lower (which is better). The error
rate for the tree model is 5.478017.</p>
</div>
<div id="were-ready-to-make-our-first-ensemble" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> We’re ready to make our first ensemble!!<a class="anchor" aria-label="anchor" href="#were-ready-to-make-our-first-ensemble"><i class="fas fa-link"></i></a>
</h2>
<p>Make a new data frame. This will be our ensemble of model predictions,
and one column for the true values. One column will be the linear
predictions, and one will be the tree predictions. We’ll make a third
column, the true values.</p>
<p>Make a new column for the true values—these are the true values in the
Boston Housing test data set</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">'linear'</span> <span class="op">=</span> <span class="va">Boston_lm_predictions</span>,</span>
<span>  <span class="st">'tree'</span> <span class="op">=</span> <span class="va">Boston_tree_predictions</span>,</span>
<span>  <span class="st">'y'</span> <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a look at the ensemble:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ensemble</span><span class="op">)</span></span>
<span><span class="co">#&gt;        linear     tree    y</span></span>
<span><span class="co">#&gt; 401 12.618507 13.30769  5.6</span></span>
<span><span class="co">#&gt; 402 19.785728 13.30769  7.2</span></span>
<span><span class="co">#&gt; 403 20.919370 13.30769 12.1</span></span>
<span><span class="co">#&gt; 404 13.014507 13.30769  8.3</span></span>
<span><span class="co">#&gt; 405  6.946392 13.30769  8.5</span></span>
<span><span class="co">#&gt; 406  5.123039 13.30769  5.0</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">ensemble</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 105   3</span></span></code></pre></div>
<p>Once we have the new ensemble data set, it’s simply another data set. No
different in many ways from any other data set (except how it was made).</p>
<p>Break the ensemble data set into train (60%) and test (40%) sections.
There is nothing special about the 60/40 split here, you may use any
numbers you wish.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ensemble_train</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span>, <span class="op">]</span></span>
<span><span class="va">ensemble_test</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">61</span><span class="op">:</span><span class="fl">105</span>, <span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ensemble_train</span><span class="op">)</span></span>
<span><span class="co">#&gt;        linear     tree    y</span></span>
<span><span class="co">#&gt; 401 12.618507 13.30769  5.6</span></span>
<span><span class="co">#&gt; 402 19.785728 13.30769  7.2</span></span>
<span><span class="co">#&gt; 403 20.919370 13.30769 12.1</span></span>
<span><span class="co">#&gt; 404 13.014507 13.30769  8.3</span></span>
<span><span class="co">#&gt; 405  6.946392 13.30769  8.5</span></span>
<span><span class="co">#&gt; 406  5.123039 13.30769  5.0</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ensemble_test</span><span class="op">)</span></span>
<span><span class="co">#&gt;       linear     tree    y</span></span>
<span><span class="co">#&gt; 461 23.88984 13.30769 16.4</span></span>
<span><span class="co">#&gt; 462 23.29129 13.30769 17.7</span></span>
<span><span class="co">#&gt; 463 22.54055 21.84327 19.5</span></span>
<span><span class="co">#&gt; 464 25.50940 21.84327 20.2</span></span>
<span><span class="co">#&gt; 465 22.71231 21.84327 21.4</span></span>
<span><span class="co">#&gt; 466 20.83810 21.84327 19.9</span></span></code></pre></div>
<p>Fit a linear model to the ensemble training data. Make predictions using
the testing data, and measure the accuracy of the predictions against
the test data. Notice how similar this is to our linear and tree models.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the model to the training data</span></span>
<span><span class="va">ensemble_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make predictions using the model on the test data</span></span>
<span><span class="va">ensemble_lm_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ensemble_lm</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate error rate for the ensemble predictions</span></span>
<span><span class="va">ensemble_lm_rmse</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y</span>, predicted <span class="op">=</span> <span class="va">ensemble_lm_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Report the error rate for the ensemble</span></span>
<span><span class="va">ensemble_lm_rmse</span></span>
<span><span class="co">#&gt; [1] 4.826962</span></span></code></pre></div>
<p>Summarize the results.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">'Model'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Linear'</span>, <span class="st">'Tree'</span>, <span class="st">'Ensemble'</span><span class="op">)</span>,</span>
<span>  <span class="st">'Error'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Boston_linear_RMSE</span>, <span class="va">Boston_tree_RMSE</span>, <span class="va">ensemble_lm_rmse</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span></span>
<span><span class="co">#&gt;      Model    Error</span></span>
<span><span class="co">#&gt; 1   Linear 6.108005</span></span>
<span><span class="co">#&gt; 2     Tree 5.478017</span></span>
<span><span class="co">#&gt; 3 Ensemble 4.826962</span></span></code></pre></div>
<p>Clearly the ensemble had the lowest error rate of the three models. The
ensemble is easily the best of the three models because it has the
lowest error rate of all the models.</p>
<div id="try-it-yourself-make-an-ensemble-where-the-ensemble-is-made-using-trees-instead-of-linear-models." class="section level3" number="2.6.1">
<h3>
<span class="header-section-number">2.6.1</span> Try it yourself: Make an ensemble where the ensemble is made using trees instead of linear models.<a class="anchor" aria-label="anchor" href="#try-it-yourself-make-an-ensemble-where-the-ensemble-is-made-using-trees-instead-of-linear-models."><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit the model to the training data</span></span>
<span><span class="va">ensemble_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make predictions using the model on the test data</span></span>
<span><span class="va">ensemble_tree_predict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ensemble_tree</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's look at the predictions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ensemble_tree_predict</span><span class="op">)</span></span>
<span><span class="co">#&gt;      461      462      463      464      465      466 </span></span>
<span><span class="co">#&gt; 14.80000 14.80000 18.94286 18.94286 18.94286 18.94286</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Calculate the error rate</span></span>
<span><span class="va">ensemble_tree_rmse</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y</span>, predicted <span class="op">=</span> <span class="va">ensemble_tree_predict</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree_rmse</span></span>
<span><span class="co">#&gt; [1] 5.322011</span></span></code></pre></div>
<p>How does this compare to our three other results? Let’s update the
results table</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">'Model'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Linear'</span>, <span class="st">'Tree'</span>, <span class="st">'Ensemble_Linear'</span>, <span class="st">'Ensemble_Tree'</span><span class="op">)</span>,</span>
<span>  <span class="st">'Error'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Boston_linear_RMSE</span>, <span class="va">Boston_tree_RMSE</span>, <span class="va">ensemble_lm_rmse</span>, <span class="va">ensemble_tree_rmse</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">results</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">Error</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span></span>
<span><span class="co">#&gt;             Model    Error</span></span>
<span><span class="co">#&gt; 1 Ensemble_Linear 4.826962</span></span>
<span><span class="co">#&gt; 2   Ensemble_Tree 5.322011</span></span>
<span><span class="co">#&gt; 3            Tree 5.478017</span></span>
<span><span class="co">#&gt; 4          Linear 6.108005</span></span></code></pre></div>
</div>
<div id="both-of-the-ensemble-models-beat-both-of-the-individual-models-in-this-example" class="section level3" number="2.6.2">
<h3>
<span class="header-section-number">2.6.2</span> Both of the ensemble models beat both of the individual models in this example<a class="anchor" aria-label="anchor" href="#both-of-the-ensemble-models-beat-both-of-the-individual-models-in-this-example"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="principle-what-is-one-improvement-that-can-be-made-use-a-diverse-set-of-models-and-ensembles-to-get-the-best-possible-result" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Principle: What is one improvement that can be made? Use a diverse set of models and ensembles to get the best possible result<a class="anchor" aria-label="anchor" href="#principle-what-is-one-improvement-that-can-be-made-use-a-diverse-set-of-models-and-ensembles-to-get-the-best-possible-result"><i class="fas fa-link"></i></a>
</h2>
<p>As we shall see when we go through and learn how to build ensembles, the
numerical method we will use will build 27 individual models and 13
ensembles for a total of 40 results. When the goal is to get the best
possible results, a diverse set of models and ensembles, such as the 40
results for numerical data, will produce much better results than a
limited number of models and ensembles.</p>
<p>We will do the same principal when we are looking at classification
data, logistic, data, and time series forecasting data. We will use a
large number of individual models and ensembles with the goal of
achieving the best possible result.</p>
</div>
<div id="principle-randomizing-the-data-before-the-analysis-will-make-the-results-more-general-and-is-very-easy-to-do" class="section level2" number="2.8">
<h2>
<span class="header-section-number">2.8</span> Principle: Randomizing the data before the analysis will make the results more general (and is very easy to do!)<a class="anchor" aria-label="anchor" href="#principle-randomizing-the-data-before-the-analysis-will-make-the-results-more-general-and-is-very-easy-to-do"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># Randomize the rows before the analysis</span></span></code></pre></div>
</div>
<div id="try-it-yourself-repeat-the-previous-analysis-but-randomize-the-rows-before-the-analysis.-otherwise-keep-the-process-the-same.-share-your-results-on-social-media." class="section level2" number="2.9">
<h2>
<span class="header-section-number">2.9</span> Try it yourself: Repeat the previous analysis, but randomize the rows before the analysis. Otherwise keep the process the same. Share your results on social media.<a class="anchor" aria-label="anchor" href="#try-it-yourself-repeat-the-previous-analysis-but-randomize-the-rows-before-the-analysis.-otherwise-keep-the-process-the-same.-share-your-results-on-social-media."><i class="fas fa-link"></i></a>
</h2>
<p>We’ll follow the exact same steps, except for randomizing the rows
first.</p>
<p>• Randomize the rows</p>
<p>• Break the data into train and test sets</p>
<p>• Fit the model to the training set</p>
<p>• Make predictions and calculate error from the model on the test set</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># Randomize the rows before the analysis</span></span>
<span></span>
<span><span class="va">train</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">400</span>, <span class="op">]</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">401</span><span class="op">:</span><span class="fl">505</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Fit the model to the training data</span></span>
<span><span class="va">Boston_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Make predictions using the model on the test data</span></span>
<span><span class="va">Boston_lm_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_lm</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the linear model predictions:</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span><span class="co">#&gt;       389        24        13       490       298       497 </span></span>
<span><span class="co">#&gt;  7.209131 13.299431 20.369236  8.253998 18.854953 14.074187</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Boston_linear_rmse</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Boston_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span>
<span><span class="va">Boston_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_tree</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span><span class="va">Boston_tree_rmse</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_tree_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the tree model predictions:</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_tree_predictions</span><span class="op">)</span></span>
<span><span class="co">#&gt;      389       24       13      490      298      497 </span></span>
<span><span class="co">#&gt; 12.00606 16.90755 16.90755 16.90755 16.90755 16.90755</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span> <span class="st">'linear'</span> <span class="op">=</span> <span class="va">Boston_lm_predictions</span>, <span class="st">'tree'</span> <span class="op">=</span> <span class="va">Boston_tree_predictions</span>, <span class="st">'y_ensemble'</span> <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span> <span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ensemble</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Randomizes the rows of the ensemble</span></span>
<span></span>
<span><span class="va">ensemble_train</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span>, <span class="op">]</span></span>
<span><span class="va">ensemble_test</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">61</span><span class="op">:</span><span class="fl">105</span>, <span class="op">]</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ensemble_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y_ensemble</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Predictions for the ensemble linear model</span></span>
<span></span>
<span><span class="va">ensemble_prediction</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">ensemble_lm</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Root mean squared error for the ensemble linear model</span></span>
<span></span>
<span><span class="va">ensemble_lm_rmse</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y_ensemble</span>, predicted <span class="op">=</span> <span class="va">ensemble_prediction</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Same for tree models</span></span>
<span></span>
<span><span class="va">ensemble_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">y_ensemble</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span><span class="va">ensemble_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ensemble_tree</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span></span>
<span><span class="va">ensemble_tree_rmse</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y_ensemble</span>, predicted <span class="op">=</span> <span class="va">ensemble_tree_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span> <span class="st">'Linear'</span> <span class="op">=</span> <span class="va">Boston_linear_rmse</span>, <span class="st">'Trees'</span> <span class="op">=</span> <span class="va">Boston_tree_rmse</span>, <span class="st">'Ensembles_Linear'</span> <span class="op">=</span> <span class="va">ensemble_lm_rmse</span>, <span class="st">'Ensemble_Tree'</span> <span class="op">=</span> <span class="va">ensemble_tree_rmse</span> <span class="op">)</span></span>
<span></span>
<span><span class="va">results</span></span>
<span><span class="co">#&gt; $Linear</span></span>
<span><span class="co">#&gt; [1] 4.536668</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Trees</span></span>
<span><span class="co">#&gt; [1] 4.012755</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Ensembles_Linear</span></span>
<span><span class="co">#&gt; [1] 3.714215</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Ensemble_Tree</span></span>
<span><span class="co">#&gt; [1] 5.286599</span></span></code></pre></div>
<p>The fact that our results are a bit different from our first ensemble is
useful. This gives us another solid principle to use in our analysis
methods:</p>
</div>
<div id="the-more-we-can-randomize-the-data-the-more-our-results-will-match-nature" class="section level2" number="2.10">
<h2>
<span class="header-section-number">2.10</span> The more we can randomize the data, the more our results will match nature<a class="anchor" aria-label="anchor" href="#the-more-we-can-randomize-the-data-the-more-our-results-will-match-nature"><i class="fas fa-link"></i></a>
</h2>
<p>Just watch: Repeat the results 100 times, return the mean of the results
(hint: It’s two small changes)</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span><span class="co"># First the linear model with randomized data</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># Randomize the rows before the analysis</span></span>
<span></span>
<span><span class="va">train</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">400</span>, <span class="op">]</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">401</span><span class="op">:</span><span class="fl">505</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">Boston_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span>
<span><span class="va">Boston_lm_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_lm</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the linear model predictions:</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's calculate the root mean squared error rate of the predictions:</span></span>
<span></span>
<span><span class="va">Boston_linear_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Boston_linear_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Boston_linear_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's use tree models</span></span>
<span></span>
<span><span class="va">Boston_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Boston_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_tree</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the tree model predictions:</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_tree_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's calculate the root mean squared error rate of the predictions:</span></span>
<span></span>
<span><span class="va">Boston_tree_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_tree_predictions</span><span class="op">)</span> </span>
<span><span class="va">Boston_tree_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Boston_tree_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="st">'linear'</span> <span class="op">=</span> <span class="va">Boston_lm_predictions</span>, <span class="st">'tree'</span> <span class="op">=</span> <span class="va">Boston_tree_predictions</span>, <span class="st">'y_ensemble'</span> <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span> <span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ensemble</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Randomizes the rows of the ensemble</span></span>
<span></span>
<span><span class="va">ensemble_train</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span>, <span class="op">]</span></span>
<span><span class="va">ensemble_test</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">61</span><span class="op">:</span><span class="fl">105</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Ensemble linear modeling</span></span>
<span></span>
<span><span class="va">ensemble_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y_ensemble</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Predictions for the ensemble linear model</span></span>
<span></span>
<span><span class="va">ensemble_prediction</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">ensemble_lm</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Root mean squared error for the ensemble linear model</span></span>
<span></span>
<span><span class="va">ensemble_lm_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y_ensemble</span>, predicted <span class="op">=</span> <span class="va">ensemble_prediction</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_lm_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">ensemble_lm_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">y_ensemble</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ensemble_tree</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">ensemble_tree_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y_ensemble</span>, predicted <span class="op">=</span> </span>
<span><span class="va">ensemble_tree_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">ensemble_tree_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">'Linear'</span> <span class="op">=</span> <span class="va">Boston_linear_rmse_mean</span>,</span>
<span>  <span class="st">'Trees'</span> <span class="op">=</span> <span class="va">Boston_tree_rmse_mean</span>,</span>
<span>  <span class="st">'Ensembles_Linear'</span> <span class="op">=</span> <span class="va">ensemble_lm_rmse_mean</span>,</span>
<span>  <span class="st">'Ensemble_Tree'</span> <span class="op">=</span> <span class="va">ensemble_tree_rmse_mean</span> <span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">results</span></span>
<span><span class="co">#&gt;     Linear    Trees Ensembles_Linear Ensemble_Tree</span></span>
<span><span class="co">#&gt; 1 4.798849 4.627021         4.078829      5.040039</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/warnings.html">warnings</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># No warnings!</span></span></code></pre></div>
<div class="float">
<img src="_book/images/automate_as_much_as_possible.jpg" alt="Automate as much as possible"><div class="figcaption">Automate as much as
possible</div>
</div>
</div>
<div id="principle-is-this-my-very-best-work" class="section level2" number="2.11">
<h2>
<span class="header-section-number">2.11</span> Principle: “Is this my very best work?”<a class="anchor" aria-label="anchor" href="#principle-is-this-my-very-best-work"><i class="fas fa-link"></i></a>
</h2>
<p>This is your best work to build ensembles at this stage of your skills.
We are going to make a number of improvements to the solutions we see
here, so our final result will be much stronger than what we have here
so far. Always strive to do your very best work, without any excuses.</p>
</div>
<div id="where-do-i-get-help-with-errors-or-warnings" class="section level2" number="2.12">
<h2>
<span class="header-section-number">2.12</span> “Where do I get help with errors or warnings?”<a class="anchor" aria-label="anchor" href="#where-do-i-get-help-with-errors-or-warnings"><i class="fas fa-link"></i></a>
</h2>
<p>It is extremely useful to check if your code returns any errors or
warnings, and fix those as fast as possible. There are numerous sites to
help address errors in your code:</p>
<p><a href="https://stackoverflow.com" class="uri">https://stackoverflow.com</a></p>
<p><a href="https://forum.posit.co" class="uri">https://forum.posit.co</a></p>
<p><a href="https://www.r-project.org/help.html" class="uri">https://www.r-project.org/help.html</a></p>
</div>
<div id="is-there-an-easy-way-to-save-all-trained-models" class="section level2" number="2.13">
<h2>
<span class="header-section-number">2.13</span> Is there an easy way to save all trained models?<a class="anchor" aria-label="anchor" href="#is-there-an-easy-way-to-save-all-trained-models"><i class="fas fa-link"></i></a>
</h2>
<p>Absolutely! We will simply add the code at the end of this section that
saves the four trained models (linear, tree, ensemble_linear and
ensemble_tree), as follows:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mfrasco/Metrics">Metrics</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tree</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_lm_rmse</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">ensemble_tree_rmse</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span><span class="co"># Fit the linear model with randomized data</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>,<span class="op">]</span> <span class="co"># Randomize the rows before the analysis</span></span>
<span></span>
<span><span class="va">train</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">400</span>, <span class="op">]</span></span>
<span><span class="va">test</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fl">401</span><span class="op">:</span><span class="fl">505</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">Boston_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Boston_lm_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_lm</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the linear model predictions:</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_lm_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's calculate the root mean squared error rate of the predictions:</span></span>
<span></span>
<span><span class="va">Boston_linear_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_lm_predictions</span><span class="op">)</span> </span>
<span><span class="va">Boston_linear_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Boston_linear_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's use tree models</span></span>
<span></span>
<span><span class="va">Boston_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Boston_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">Boston_tree</span>, newdata <span class="op">=</span> <span class="va">test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's have a quick look at the tree model predictions:</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">Boston_tree_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Let's calculate the root mean squared error rate of the predictions:</span></span>
<span></span>
<span><span class="va">Boston_tree_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span>, predicted <span class="op">=</span> <span class="va">Boston_tree_predictions</span><span class="op">)</span> </span>
<span><span class="va">Boston_tree_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Boston_tree_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span> <span class="st">'linear'</span> <span class="op">=</span> <span class="va">Boston_lm_predictions</span>, <span class="st">'tree'</span> <span class="op">=</span> <span class="va">Boston_tree_predictions</span>, <span class="st">'y_ensemble'</span> <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">medv</span> <span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">ensemble</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span> <span class="co"># Randomizes the rows of the ensemble</span></span>
<span></span>
<span><span class="va">ensemble_train</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">ensemble_test</span> <span class="op">&lt;-</span> <span class="va">ensemble</span><span class="op">[</span><span class="fl">61</span><span class="op">:</span><span class="fl">105</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Ensemble linear modeling</span></span>
<span></span>
<span><span class="va">ensemble_lm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">y_ensemble</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Predictions for the ensemble linear model</span></span>
<span></span>
<span><span class="va">ensemble_prediction</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">ensemble_lm</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Root mean squared error for the ensemble linear model</span></span>
<span></span>
<span><span class="va">ensemble_lm_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y_ensemble</span>, predicted <span class="op">=</span> <span class="va">ensemble_prediction</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_lm_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">ensemble_lm_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tree/man/tree.html">tree</a></span><span class="op">(</span><span class="va">y_ensemble</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">ensemble_train</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">ensemble_tree</span>, newdata <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">ensemble_tree_rmse</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu">Metrics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Metrics/man/rmse.html">rmse</a></span><span class="op">(</span>actual <span class="op">=</span> <span class="va">ensemble_test</span><span class="op">$</span><span class="va">y_ensemble</span>, predicted <span class="op">=</span> <span class="va">ensemble_tree_predictions</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ensemble_tree_rmse_mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">ensemble_tree_rmse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span> <span class="st">'Linear'</span> <span class="op">=</span> <span class="va">Boston_linear_rmse_mean</span>, <span class="st">'Trees'</span> <span class="op">=</span> <span class="va">Boston_tree_rmse_mean</span>, <span class="st">'Ensembles_Linear'</span> <span class="op">=</span> <span class="va">ensemble_lm_rmse_mean</span>, <span class="st">'Ensemble_Tree'</span> <span class="op">=</span> <span class="va">ensemble_tree_rmse_mean</span> <span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">results</span></span>
<span><span class="co">#&gt; $Linear</span></span>
<span><span class="co">#&gt; [1] 4.830464</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Trees</span></span>
<span><span class="co">#&gt; [1] 4.712343</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Ensembles_Linear</span></span>
<span><span class="co">#&gt; [1] 4.151828</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Ensemble_Tree</span></span>
<span><span class="co">#&gt; [1] 5.236029</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/warnings.html">warnings</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Boston_lm</span> <span class="op">&lt;-</span> <span class="va">Boston_lm</span></span>
<span><span class="va">Boston_tree</span> <span class="op">&lt;-</span> <span class="va">Boston_tree</span></span>
<span><span class="va">ensemble_lm</span> <span class="op">&lt;-</span> <span class="va">ensemble_lm</span></span>
<span><span class="va">ensemble_tree</span> <span class="op">&lt;-</span> <span class="va">ensemble_tree</span></span></code></pre></div>
<div id="what-about-classification-logistic-and-time-series-data" class="section level3" number="2.13.1">
<h3>
<span class="header-section-number">2.13.1</span> What about classification, logistic and time series data?<a class="anchor" aria-label="anchor" href="#what-about-classification-logistic-and-time-series-data"><i class="fas fa-link"></i></a>
</h3>
<p>In subsequent chapters we will do similar processes with classification,
logistic and time series data. It’s possible to build ensembles with all
these types of data. The results are extremely similar to the results
we’ve seen here with numerical data: While the ensembles won’t always
have the best results, it is best to have a diverse set of models and
ensembles to get the best possible results.</p>
</div>
<div id="principle-ensembles-can-work-with-many-types-of-data-and-we-will-do-that-in-this-book" class="section level3" number="2.13.2">
<h3>
<span class="header-section-number">2.13.2</span> Principle: Ensembles can work with many types of data, and we will do that in this book<a class="anchor" aria-label="anchor" href="#principle-ensembles-can-work-with-many-types-of-data-and-we-will-do-that-in-this-book"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="can-it-make-predictions-on-totally-new-data-from-the-trained-modelsincluding-the-ensembles" class="section level3" number="2.13.3">
<h3>
<span class="header-section-number">2.13.3</span> Can it make predictions on totally new data from the trained models—including the ensembles?<a class="anchor" aria-label="anchor" href="#can-it-make-predictions-on-totally-new-data-from-the-trained-modelsincluding-the-ensembles"><i class="fas fa-link"></i></a>
</h3>
<p>The solutions in this book are independent of the use of the data. We
will look at everything from housing prices to business analysis to HR
analytics to research in medicine. One of our later examples will do
exactly what this question is asking—build individual and ensemble
models from data, then use those pre-trained models to make predictions
on totally unseen data. You will develop this set of skills later in the
book, but it’s a minor extension of what you’re already seen and
completed.</p>
</div>
<div id="the-way-i-was-taught-how-to-write-code-was-totally-wrong-for-me-the-best-way-for-me-is-to-start-at-the-end-and-work-backward-from-there.-do-not-start-coding-looking-for-a-solution-instead-start-with-the-ending-and-work-backwards-from-there." class="section level3" number="2.13.4">
<h3>
<span class="header-section-number">2.13.4</span> The way I was taught how to write code was totally wrong for me: The best way for me is to start at the end and work backward from there. Do not start coding looking for a solution, instead, start with the ending and work backwards from there.<a class="anchor" aria-label="anchor" href="#the-way-i-was-taught-how-to-write-code-was-totally-wrong-for-me-the-best-way-for-me-is-to-start-at-the-end-and-work-backward-from-there.-do-not-start-coding-looking-for-a-solution-instead-start-with-the-ending-and-work-backwards-from-there."><i class="fas fa-link"></i></a>
</h3>
<div class="float">
<img src="_book/images/Steve%20Jobs.jpg" alt="Start at the end and work backwards"><div class="figcaption">Start at the end and work backwards</div>
</div>
<p><a href="https://www.youtube.com/watch?v=oeqPrUmVz-o">Start at the end and work backwards from
there</a></p>
<p>The biggest lesson for me in all of this work is how to make ensembles.
You’ve already seen some of the steps, and there are more results to
come. The second biggest lesson is that everything I was taught about
how to do data science and AI was backwards to what actually works for
me in real life. I’ve learned how I learn, and applied that skill
(learning how I learn) to a wide range of skills, including:</p>
<p>• Running a multi-million dollar division of a Fortune 1000 company,
including full profit and loss responsibility</p>
<p>• Performing at a professional level on many musical instruments</p>
<p>• Able to communicate in English, Spanish and sign language in a
professional setting</p>
<p>• Earning the #1 place on the annual undergradate university mathematics
competition—twice</p>
<p>• Completing a Master’s degree in Guidance and Counseling, allowing me
to help many people in their path toward a healthier life</p>
<p>• Leader of the Oak Park, Illinois chapter of Amnesty International for
ten years, helping to release several Prisoners of Conscience</p>
<p>• President of the Chicago Apple User Group for ten years, helping many
people do extremely good work with their hardware and software</p>
<p>• Leg press 1,000 pounds ten times in a row</p>
<p>• Climbed a mountain in Colorado</p>
<p>• Completed multiple skydives (and looking forward to doing more)</p>
<p>The point here is that I have learned how I learn, and I’ve applied that
skill to many areas. When I started learning data science/AI/coding, it
was all very different from the way I was being creative my whole life.
The way that works for me is to start at the end, work backward from
there, and never give up. Maybe the best evidence of the success of this
method is this fact:</p>
<p><strong>When I started to write the code that led to the Ensembles package, I
followed those steps: Start at the end, work backward from there, and
never give up. I wound up writing an average of 1,000 lines of clean,
error free code per month for 15 months. The Ensembles package is around
15,000 lines of clean, error free code.</strong></p>
<p>I found my attitude was much more important than my skill set, by a long
shot.</p>
</div>
<div id="how-i-stuck-with-it-all-the-way-to-the-end-the-best-career-advice-i-ever-received-was-from-a-homeless-man-i-never-met-and-answers-the-question-of-what-most-strongly-predicts-success." class="section level3" number="2.13.5">
<h3>
<span class="header-section-number">2.13.5</span> How I stuck with it all the way to the end: The best career advice I ever received was from a homeless man I never met, and answers the question of what most strongly predicts success.<a class="anchor" aria-label="anchor" href="#how-i-stuck-with-it-all-the-way-to-the-end-the-best-career-advice-i-ever-received-was-from-a-homeless-man-i-never-met-and-answers-the-question-of-what-most-strongly-predicts-success."><i class="fas fa-link"></i></a>
</h3>
<div class="float">
<img src="_book/images/Ashford_and_Simpson.png" alt="Ashford and Simpson"><div class="figcaption">Ashford and Simpson</div>
</div>
<p>Ashford and Simpson</p>
<p>Learning about building ensembles will help you make more accurate
predictions. That’s an extrdmely good skill to have in any setting. But
I found the most important thing to predict is success. This has been
studied, and there are quite a few good works on the subject, both
academic and for the general population.</p>
<p>My favorite career advice—which I listened to nearly every day as I
worked on the Ensembles project—is from a man who was homeless at the
time he came up with the words.</p>
<p>Nick Ashford was from Willow Run, Michigan. He moved to New York, hoping
to get into the entertainment world as a dancer. Unfortunately he ended
up homeless on the streets of New York. He slept on park benches, and
got food from soup kitchens.</p>
<p>He heard that the people at White Rock Baptist Church would feed him (a
homeless man) a normal meal, so Nick went there one Sunday morning. He
met the people, especially the choir members, and started working with
the piano player in the choir. Her name is Valerie Simpson.</p>
<p>Soon Nick and Valerie were writing songs for the church choir. Nick
mentioned that while he was homeless, he realized that New York wasn’t
going to “do me in”. He was determined. The words he put down say:</p>
<p><strong>Ain’t no mountain high enough</strong></p>
<p><strong>Ain’t no valley low enough</strong></p>
<p><strong>Ain’t no river wide enough</strong></p>
<p>Valerie took those words, and set them to music. They sent that song to
Motown, who released it with Marvin Gaye and Tammy Terrell covering the
vocals. It was later re-done by Ashford and Simpson and Paul Riser, with
Diana Ross singing the lead.</p>
<p>Here is a short video that summarizes that experience, and concludes
with the finale of the 1970 version of the song. This attitude that
Ashford and Simpson expressed in song is extremely highly predictive of
success, no matter what the field of endeavor. I found this extremely
motivating, and used it to overcome any obstacles and challenges I had
while on the journey.</p>
<p>While I have the skill of knowing how I learn (which I will continue to
share with you in this book), this attitude of working no matter how
high the mountain or long the valley or wide the river, gives me the how
and the why to keep moving toward success, until that success is fully
achieved.</p>
<p>Later on we will look at how to make presentations, consider this as an
example of the level of quality that can be done:</p>
<p><a href="https://www.icloud.com/iclouddrive/002bNfVreagRYCYHAZ9GyQ02w#Ain't%5FNo%5FMountain%5FHigh%5FEnough" class="uri">https://www.icloud.com/iclouddrive/002bNfVreagRYCYHAZ9GyQ02w#Ain’t%5FNo%5FMountain%5FHigh%5FEnough</a></p>
</div>
<div id="exercises" class="section level3" number="2.13.6">
<h3>
<span class="header-section-number">2.13.6</span> Exercises:<a class="anchor" aria-label="anchor" href="#exercises"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>Find your data science Genesis. The data science idea that totally
excites you and gets you out of bed every day. The idea that leads
to the creation of many other ideas. The biggest and boldest dreams
you can possibly have. The idea that is so strong that you have to
do it. Not for yourself, but for the benefit of all who will use it
and receive all the good it will create.</li>
<li>Keep a journal of your progress. It’s much easier to see results
over time when there is a record. Set the journal up today (or this
week). I did not use Github as a journal. My journal was for crazy
ideas, contradictory evidence, writing down my frustrations and
successes, inspiration, the one next thing I worked on, and having a
rock solid record of the path to success. Seeing the path I
traversed was a huge motivation to finishing the project.</li>
<li>Do your best to add journal entries to your regular schedule.</li>
<li>Make an ensemble using the Boston Housing data set. Model any of the
other 13 columns of data, not the median value of the home (14th
column) which we have been working on in this chapter.</li>
<li>Start planning for your comprehensive project. What types of data
are you most interested in? What patterns would you like to
discover? Begin looking online now for possible data sets, and so a
little basic research. More examples will be provided as we get
closer to that section of the book.</li>
</ol>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html"><span class="header-section-number">1</span> Welcome!</a></div>
<div class="next"><a href="numerical-data-how-to-make-23-individual-models-and-basic-skills-with-functions.html"><span class="header-section-number">3</span> Numerical data: How to make 23 individual models, and basic skills with functions</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#introduction-and-your-first-ensembles"><span class="header-section-number">2</span> Introduction and your first ensembles</a></li>
<li><a class="nav-link" href="#how-a-chicago-blizzard-led-to-the-very-unlikely-story-of-the-best-solutions-to-supervised-data"><span class="header-section-number">2.1</span> How a Chicago blizzard led to the very unlikely story of the best solutions to supervised data</a></li>
<li><a class="nav-link" href="#saturday-october-15-2022-at-458-pm.-the-exact-birth-of-the-ensembles-system"><span class="header-section-number">2.2</span> Saturday, October 15, 2022 at 4:58 pm. The exact birth of the Ensembles system</a></li>
<li>
<a class="nav-link" href="#here-is-what-an-ensemble-of-models-looks-like-at-the-most-basic-level-using-the-boston-housing-data-set-as-an-example"><span class="header-section-number">2.3</span> Here is what an ensemble of models looks like at the most basic level, using the Boston Housing data set as an example:</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#head-of-boston-housing-data-set"><span class="header-section-number">2.3.1</span> Head of Boston Housing data set</a></li></ul>
</li>
<li><a class="nav-link" href="#the-steps-to-build-your-first-ensemble-from-scratch"><span class="header-section-number">2.4</span> The steps to build your first ensemble from scratch</a></li>
<li><a class="nav-link" href="#building-the-first-actual-ensemble"><span class="header-section-number">2.5</span> Building the first actual ensemble</a></li>
<li>
<a class="nav-link" href="#were-ready-to-make-our-first-ensemble"><span class="header-section-number">2.6</span> We’re ready to make our first ensemble!!</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#try-it-yourself-make-an-ensemble-where-the-ensemble-is-made-using-trees-instead-of-linear-models."><span class="header-section-number">2.6.1</span> Try it yourself: Make an ensemble where the ensemble is made using trees instead of linear models.</a></li>
<li><a class="nav-link" href="#both-of-the-ensemble-models-beat-both-of-the-individual-models-in-this-example"><span class="header-section-number">2.6.2</span> Both of the ensemble models beat both of the individual models in this example</a></li>
</ul>
</li>
<li><a class="nav-link" href="#principle-what-is-one-improvement-that-can-be-made-use-a-diverse-set-of-models-and-ensembles-to-get-the-best-possible-result"><span class="header-section-number">2.7</span> Principle: What is one improvement that can be made? Use a diverse set of models and ensembles to get the best possible result</a></li>
<li><a class="nav-link" href="#principle-randomizing-the-data-before-the-analysis-will-make-the-results-more-general-and-is-very-easy-to-do"><span class="header-section-number">2.8</span> Principle: Randomizing the data before the analysis will make the results more general (and is very easy to do!)</a></li>
<li><a class="nav-link" href="#try-it-yourself-repeat-the-previous-analysis-but-randomize-the-rows-before-the-analysis.-otherwise-keep-the-process-the-same.-share-your-results-on-social-media."><span class="header-section-number">2.9</span> Try it yourself: Repeat the previous analysis, but randomize the rows before the analysis. Otherwise keep the process the same. Share your results on social media.</a></li>
<li><a class="nav-link" href="#the-more-we-can-randomize-the-data-the-more-our-results-will-match-nature"><span class="header-section-number">2.10</span> The more we can randomize the data, the more our results will match nature</a></li>
<li><a class="nav-link" href="#principle-is-this-my-very-best-work"><span class="header-section-number">2.11</span> Principle: “Is this my very best work?”</a></li>
<li><a class="nav-link" href="#where-do-i-get-help-with-errors-or-warnings"><span class="header-section-number">2.12</span> “Where do I get help with errors or warnings?”</a></li>
<li>
<a class="nav-link" href="#is-there-an-easy-way-to-save-all-trained-models"><span class="header-section-number">2.13</span> Is there an easy way to save all trained models?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-about-classification-logistic-and-time-series-data"><span class="header-section-number">2.13.1</span> What about classification, logistic and time series data?</a></li>
<li><a class="nav-link" href="#principle-ensembles-can-work-with-many-types-of-data-and-we-will-do-that-in-this-book"><span class="header-section-number">2.13.2</span> Principle: Ensembles can work with many types of data, and we will do that in this book</a></li>
<li><a class="nav-link" href="#can-it-make-predictions-on-totally-new-data-from-the-trained-modelsincluding-the-ensembles"><span class="header-section-number">2.13.3</span> Can it make predictions on totally new data from the trained models—including the ensembles?</a></li>
<li><a class="nav-link" href="#the-way-i-was-taught-how-to-write-code-was-totally-wrong-for-me-the-best-way-for-me-is-to-start-at-the-end-and-work-backward-from-there.-do-not-start-coding-looking-for-a-solution-instead-start-with-the-ending-and-work-backwards-from-there."><span class="header-section-number">2.13.4</span> The way I was taught how to write code was totally wrong for me: The best way for me is to start at the end and work backward from there. Do not start coding looking for a solution, instead, start with the ending and work backwards from there.</a></li>
<li><a class="nav-link" href="#how-i-stuck-with-it-all-the-way-to-the-end-the-best-career-advice-i-ever-received-was-from-a-homeless-man-i-never-met-and-answers-the-question-of-what-most-strongly-predicts-success."><span class="header-section-number">2.13.5</span> How I stuck with it all the way to the end: The best career advice I ever received was from a homeless man I never met, and answers the question of what most strongly predicts success.</a></li>
<li><a class="nav-link" href="#exercises"><span class="header-section-number">2.13.6</span> Exercises:</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/InfinteCuriosity/EnsemblesBook/blob/master/01-Your_First_Ensembles.rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/InfinteCuriosity/EnsemblesBook/edit/master/01-Your_First_Ensembles.rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Ensembles: From Beginner to Expert</strong>" was written by Russ Conte. It was last built on 2024-06-03.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
